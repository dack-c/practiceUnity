# 🧠 C# 문법 리뷰 (Unity 게임 제작용 실전 중심)

> 🎯 목적: Unity로 게임을 만들 때 실제로 자주 사용하는 C# 핵심 문법을 \학습합니다.  
> (변수, 흐름 제어, 클래스, 입력, 충돌, 코루틴, 배열/리스트 등)

---

## 🗂️ 목차

1. 변수와 데이터 타입
2. 연산자
3. 조건문 (if, switch)
4. 반복문 (for, while, foreach)
5. 클래스 구조 & MonoBehaviour
6. Unity 함수들 (Start, Update 등)
7. 입력 처리 (Input)
8. 충돌 처리 (OnCollision, OnTrigger)
9. 코루틴 (Coroutine)
10. 배열과 리스트
11. 실습 예제 코드 (PlayerController)

---

## 1. 변수와 데이터 타입

```csharp
int score = 0;
float speed = 5.5f;
bool isDead = false;
string playerName = "Haedal";
```

- **int**: 정수 (점수, 체력)
- **float**: 소수 (속도, 위치)
- **bool**: true/false (상태 체크)
- **string**: 문자열 (닉네임, 로그)

---

## 2. 연산자

```csharp
int hp = 100 - 20;         // 뺄셈
bool isLow = hp < 30;      // 비교
score += 10;               // 누적
isJumping = !isGrounded;   // 논리 부정
```

---

## 3. 조건문

### if / else

```csharp
if (hp <= 0)
{
    Die();
}
else
{
    Recover();
}
```

### switch

```csharp
switch (weaponType)
{
    case "gun":
        Shoot();
        break;
    case "sword":
        Attack();
        break;
}
```

---

## 4. 반복문

### for

```csharp
for (int i = 0; i < 10; i++)
{
    Debug.Log("Wave: " + i);
}
```

### while

```csharp
while (isPlaying)
{
    time += Time.deltaTime;
}
```

### foreach

```csharp
foreach (GameObject enemy in enemies)
{
    enemy.SetActive(false);
}
```

---

## 5. 클래스와 MonoBehaviour

```csharp
public class Enemy : MonoBehaviour
{
    public int hp = 100;

    void Start()
    {
        Debug.Log("적 등장!");
    }

    void Update()
    {
        Move();
    }

    void Move()
    {
        transform.Translate(Vector3.left * Time.deltaTime);
    }
}
```

---

## 6. Unity 기본 함수

| 함수명 | 설명 |
|--------|------|
| `Start()` | 시작할 때 1번 호출 |
| `Update()` | 매 프레임마다 실행 |
| `FixedUpdate()` | 물리 연산용 |
| `LateUpdate()` | 모든 Update 이후 호출 |
| `Awake()` | Start보다 먼저 호출됨 |

---

## 7. 입력 처리

```csharp
void Update()
{
    float h = Input.GetAxis("Horizontal");
    transform.Translate(Vector3.right * h * Time.deltaTime);

    if (Input.GetKeyDown(KeyCode.Space))
    {
        Jump();
    }
}
```

---

## 8. 충돌 처리

```csharp
void OnCollisionEnter(Collision other)
{
    if (other.gameObject.tag == "Enemy")
    {
        TakeDamage(10);
    }
}

void OnTriggerEnter(Collider other)
{
    if (other.CompareTag("Item"))
    {
        CollectItem();
    }
}
```

---

## 9. 코루틴 (Coroutine)

```csharp
IEnumerator Respawn()
{
    yield return new WaitForSeconds(2f);
    transform.position = respawnPoint;
}

void Die()
{
    StartCoroutine(Respawn());
}
```

---

## 10. 배열과 리스트

### 배열

```csharp
GameObject[] enemies = GameObject.FindGameObjectsWithTag("Enemy");
```

### 리스트

```csharp
List<string> items = new List<string>();
items.Add("Potion");
items.Remove("Potion");
```

---

## 11. 실습 예제: PlayerController.cs

```csharp
public class PlayerController : MonoBehaviour
{
    public float speed = 5f;
    public float jumpPower = 7f;
    private Rigidbody rb;

    void Start()
    {
        rb = GetComponent<Rigidbody>();
    }

    void Update()
    {
        float h = Input.GetAxis("Horizontal");
        transform.Translate(Vector3.right * h * speed * Time.deltaTime);

        if (Input.GetKeyDown(KeyCode.Space))
        {
            rb.AddForce(Vector3.up * jumpPower, ForceMode.Impulse);
        }
    }
}
```

---

## 📎 참고 링크

- [C# for Unity Developers](https://docs.unity3d.com/Manual/UnderstandingAutomaticMemoryManagement.html)
