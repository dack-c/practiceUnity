# 🧩 Unity WebGL 빌드 경량화 실습

> WebGL 게임의 로딩 속도와 용량 최적화를 위해 Unity의 다양한 빌드 설정을 실습하고 비교합니다.

---

## 🧠 학습 목표

- WebGL 빌드 용량의 주요 구성 요소 파악
- 압축 방식 및 빌드 옵션 조절을 통한 용량 최적화 실습
- 최적화 전후의 로딩 속도 및 결과 비교

---

## 1. 🧪 실습 개요

### 테스트 대상

- 동일한 Unity 프로젝트 (2D 또는 간단한 3D 씬)

### 실험 항목

| 실험 | 설정 항목 | 비교 지표 |
|------|-----------|------------|
| A | 기본 빌드 (압축 없음) | 기준 용량/로딩속도 |
| B | Gzip 압축 적용 | 용량 감소 비교 |
| C | Brotli 압축 적용 | Gzip과의 차이 비교 |
| D | 데이터 스트리밍 사용 | 초기 로딩 개선 여부 |
| E | Code Stripping 설정 | 코드 최적화 영향 |

---

## 2. ⚙️ 빌드 설정 항목

### 2-1. 압축 형식 (Compression Format)

- **None**: 무압축 (개발 중 디버깅 용도)
- **Gzip**: 표준 웹 압축 포맷 (빠르고 호환성 좋음)
- **Brotli**: 더 높은 압축률, 약간 느릴 수 있음

👉 설정: `Build Settings > Player Settings > Publishing Settings`

---

### 2-2. Data Caching & Streaming

- **Data Caching**: 브라우저에 캐시 보존 (재방문 로딩 속도 개선)
- **Streaming Installs**: 데이터 분할 로드 (초기 로딩 시간 감소)

---

### 2-3. Code Stripping Level

- Unity의 **Managed Stripping Level** 설정
- `Low`, `Medium`, `High` 선택 가능
- 사용되지 않는 코드를 빌드에서 제거하여 용량 감소

👉 설정: `Player Settings > Other Settings > Managed Stripping Level`

---

## 3. 📦 결과 비교표 예시

| 설정 | 빌드 크기 | 첫 로딩 시간 | 주의사항 |
|------|------------|----------------|-----------|
| None | 12.3MB | 4.5s | 디버깅용 |
| Gzip | 7.2MB | 3.2s | 서버 gzip 지원 필요 |
| Brotli | 5.9MB | 3.6s | 최신 브라우저 필요 |
| Streaming | 7.0MB | 2.1s | 구조 분리 필요 |
| Stripping High | 5.1MB | 3.0s | 일부 기능 미작동 가능 |

---

## 🔧 실습 가이드

1. 동일 씬에서 압축 방식/옵션별로 빌드
2. `/docs/build_A`, `/docs/build_B` 등으로 나눠 업로드
3. GitHub Pages에 각각 배포
4. 크롬 개발자 도구 → 네트워크 탭으로 로딩 시간 확인
5. Devlog에 각 실험 결과 기록

---

## 💡 팁

- Brotli는 Nginx/Apache 서버 설정 필요 (GitHub Pages 지원됨)
- Streaming 방식은 초기 파일 구성 계획이 중요
- Code Stripping은 반드시 플레이 테스트 필수

---

## 🔗 참고 자료

- [Unity WebGL 빌드 최적화 공식 문서](https://docs.unity3d.com/Manual/webgl-performance.html)
- [Brotli 압축이란? (MDN)](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding)
