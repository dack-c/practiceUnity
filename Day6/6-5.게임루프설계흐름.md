# 🎮 게임 루프 설계 흐름

> Unity를 활용하여 기본적인 게임 루프 구조를 이해하고, 실제 설계에 어떻게 반영하는지 학습합니다.

---

## 🧠 학습 목표

- 게임 루프(Game Loop)의 개념과 핵심 구성 요소 이해
- Unity의 이벤트 기반 루프 구조 파악
- 다양한 게임 장르에 맞춘 루프 설계 연습

---

## 1. 게임 루프란?

게임 실행 중 프레임 단위로 반복되는 기본 실행 구조

### 기본 구조

```
while (게임 실행 중) {
    입력 처리
    게임 로직 업데이트
    물리 계산
    렌더링
}
```

- 입력(Input): 사용자 입력 처리
- 업데이트(Update): 게임 상태 계산
- 렌더(Render): 화면 출력

---

## 2. Unity의 게임 루프 구조

Unity는 내부적으로 위 루프를 관리하며 다음 메서드를 주기적으로 호출함

| 메서드 | 설명 |
|--------|------|
| `Awake()` | 게임 오브젝트 생성 직후 1회 실행 |
| `Start()` | 첫 프레임 업데이트 직전 1회 실행 |
| `Update()` | 매 프레임 호출 (게임 로직 중심) |
| `FixedUpdate()` | 고정 시간 간격 호출 (물리 연산) |
| `LateUpdate()` | 모든 Update 이후 호출 (카메라 등) |

---

## 3. 게임 루프 예시 흐름

### 예: 플랫폼 점프 게임

1. 입력 처리 (키보드 방향키, 스페이스)
2. 이동/점프 처리
3. 충돌 판정 및 피드백 (이펙트, 사운드)
4. 스코어 갱신
5. 게임 오버 조건 체크

---

## 4. 루프 설계 시 고려 사항

- **프레임 종속성** 방지: `Time.deltaTime` 활용
- **물리 계산**은 반드시 `FixedUpdate`에서
- **카메라 추적**은 `LateUpdate`에서 적용
- **최적화**: 빈번한 `Find`, `GetComponent` 사용 지양

---

## 5. 루프 확장 예시

| 요소 | 설명 |
|------|------|
| 상태 머신 | 게임 상태(대기, 실행, 종료 등) 관리 |
| 코루틴 | 비동기 처리 (UI 지연, Cut Scene 등) |
| 이벤트 시스템 | GameManager 중심의 이벤트 처리 구조 |

---

## 🧩 실습 아이디어

- 플레이어 상태(State) 머신 설계해보기
- UI와 게임 루프 연결 (게임 오버 시 패널 출력)
- 타이머를 활용한 점수 시스템 구현

---

## 🔗 참고 자료

- [Unity - Execution Order of Event Functions](https://docs.unity3d.com/Manual/ExecutionOrder.html)
